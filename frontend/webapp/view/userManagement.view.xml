<mvc:View
	controllerName="com.app.controller.userManagement"
	xmlns="sap.m"
    xmlns:k="kellojo.m"
	xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:html="http://www.w3.org/1999/xhtml"
    height="100%"
    width="100%"
    id="idAppView">

    <k:Page title="User Management" subTitle="Manage all Users">
        
        <k:TableActions>
            <k:left>
                <Label text="{ parts: [
                        'i18n>userManagement-TableActionsText',
                        '/userCount'
                    ],
                    formatter: 'jQuery.sap.formatMessage'}"
                />
            </k:left>

            <k:right>
                <Button icon="sap-icon://refresh" type="Transparent" press="loadUsers"/>
            </k:right>

        </k:TableActions>

        <Table busy="{/isLoadingUsers}" itemPress="onUserItemPress" items="{
                path: '/users',
                sorter: {
                    path: 'firstName'
                }
            }">
            <columns>
                <Column>
                    <Text text="User"/>
                </Column>
                <Column minScreenWidth="Tablet">
                    <Text text="Roles"/>
                </Column>
                
                <Column minScreenWidth="Desktop">
                    <Text text="Last modified"/>
                </Column>
                <Column minScreenWidth="Desktop">
                    <Text text="Created"/>
                </Column>
            </columns>

            <items>
                <ColumnListItem type="Active">
                    <Link text="{email}"/>
                    <k:RolesDisplay roles="{}"/>
                    <Label text="{creationTime}"/>
                    <Label text="{creationTime}"/>
				</ColumnListItem>
                
            </items>
        </Table>




    </k:Page>

</mvc:View>